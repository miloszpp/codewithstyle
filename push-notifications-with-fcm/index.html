<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--Description-->
  
  <meta name="description" content="This post is the last post of the series in which I will describe how I built my first PWA, Friendtainer. It will touch on many topics such as Angular">
  

  <!--Author-->
  
  <meta name="author" content="Miłosz Piechocki">
  

  <!--Open Graph Title-->
  
  <meta property="og:title" content="How I built a PWA with Angular and Firebase Part 3: Push Notifications with Firebase Cloud Messaging">
  

  <!--Open Graph Description-->
  

  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="codewithstyle.info">

  <!--Type page-->
  
  <meta property="og:type" content="article">
  

  <!--Page Cover-->
  
  <meta name="twitter:card" content="summary">
   

  <!-- Title -->
  
  <title>How I built a PWA with Angular and Firebase Part 3: Push Notifications with Firebase Cloud Messaging - codewithstyle.info</title>

  <!-- Tachyons Core CSS -->
  <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  
  <link rel="amphtml" href="https://codewithstyle.info/push-notifications-with-fcm//amp/index.html">
  

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/style.css">

  <!-- Google Analytics -->
  
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-89535231-1', 'auto');
        ga('send', 'pageview');

    </script>



  <!-- Twitter -->
  <script>
    window.twttr = (function(d, s, id) {
      var js,
        fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
      if (d.getElementById(id)) return t;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);

      t._e = [];
      t.ready = function(f) {
        t._e.push(f);
      };

      return t;
    })(document, "script", "twitter-wjs");
  </script>
</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 text-light">
  <div class="w-100">
    <nav class="db flex-l pv3 mw8 center items-center-l">
      <a class="db v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="codewithstyle.info">
        <img src="/images/2017/07/CODE-WITHSTYLE-1.png" class="dib h3" alt="codewithstyle.info">
      </a>
      <div class="db v-mid w-100 w-75-l tc tr-l">
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/toc" title="Table of Contents">
          Table of Contents
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags/typescript" title="TypeScript">
          TypeScript
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/functional-programming" title="Functional Programming">
          Functional Programming
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="http://miloszpiechocki.com/" title="Author">
          Author
        </a>
        
      </div>
    </nav>
  </div>

  <!-- Title -->
  <div class="w-100 vh-40 dt" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
    url('images/homepage.png'); background-size: cover; background-position: center">
    <div class="v-mid white center mw8">
      <h1 class="f1-l f2-m tc tc-m tl-ns">How I built a PWA with Angular and Firebase Part 3: Push Notifications with Firebase Cloud Messaging</h1>
      <p class="f4 fw3 pab-100px tc tc-m tl-ns">2017-05-28</p>
    </div>
  </div>

  <div class="w-100 bt">
    <section class="pa2 mw8 center white">
      <a class="link white dim" href="https://www.educative.io/courses/advanced-typescript-masterclass">
        🔥 Check out my <em>Advanced TypeScript Masterclass course</em> 🔥
      </a>
    </section>
  </div>
</div>


<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/angular/">#angular</a> <a class="fw3 ph1 dib" href="/tags/firebase/">#firebase</a> <a class="fw3 ph1 dib" href="/tags/pwa/">#pwa</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <p>This post is the last post of the series in which I will describe how I built my first PWA, <a href="http://friendtainer.com/" target="_blank" rel="noopener">Friendtainer</a>. It will touch on many topics such as Angular 2, Ionic 2, Firebase, service workers, push notifications, serverless architectures. I hope you will find it useful when building your own PWAs. In this part of the series, we’ll look at the most interesting part of the app - push notifications and Firebase Cloud Messaging.</p>
<ul>
<li><a href="https://codewithstyle.info/how-i-built-a-progressive-web-app-with-angular-and-firebase-part-1/">Part 1: Explaining PWA and introduction</a></li>
<li><a href="https://codewithstyle.info/how-i-built-a-pwa-with-angular-and-firebase-part-2-ionic-2/">Part 2: Ionic and app manifest</a></li>
<li><a href="https://codewithstyle.info/push-notifications-with-fcm/">Part 3: Push notifications with Firebase Cloud Messaging</a></li>
</ul>
<h3 id="Recap-of-the-architecture"><a href="#Recap-of-the-architecture" class="headerlink" title="Recap of the architecture"></a>Recap of the architecture</h3><p>In <a href="http://codewithstyle.info/how-i-built-a-progressive-web-app-with-angular-and-firebase-part-1/">Part 1</a> of this series I described the architecture of my app. Let’s focus on the part related to push notifications. We will use Firebase Cloud Messaging to implement notifications. Why do we need it? As the name suggests, push notifications are being <strong>pushed</strong> directly to users’ devices. If we wanted to implement it ourselves, we would need to somehow figure out how to find the device, connect to it and send data to it. FCM can do this work for us. We can tell it what’s the message and who to deliver it to and it will take care of the delivery. </p>
<p><img src="/images/2017/05/maxresdefault-1024x576.jpg" alt=""> </p>
<p>However, we still need something to actually send the message (i.e. to tell FCM what and to whom should be delivered). FCM refers to the piece that pushes messages as <strong>application server</strong>. Our setup is <strong>serverless</strong> so we will not use a single, centralized server for pushing the notifications. Instead, we will use a function-as-a-service offering called <a href="https://webtask.io/" target="_blank" rel="noopener">Webtask.io</a>. Webtask lets us run a piece of JavaScript code in the cloud, without having to care about where and how it’s executed. <em>BTW, you can use Firebase Cloud Functions instead of Webtask. I decided to use Webtask because when I was working on Friendtainer, Functions were not available yet.</em> </p>
<p>Friendtainer has a single webtask that’s responsible for determining which users need to be shown a reminder. It’s automatically started every 24 hours. For each user that needs to be shown a reminder, the webtask tells FCM to deliver a notification to that user. FCM finds the user’s device and sends the notification. Since the device has a service worker installed and running in the background, it handles the notification and shows a notification banner. </p>
<p>As I said, FCM takes care of message delivery to a specific device. However, we are responsible for pairing of users and devices. Although a user can have multiple devices (especially with a PWA that can be run on desktop, smartphone, tablet, etc.), we are going to assume one device per user - it simplifies things by a lot. There are three pieces required to get this working:</p>
<ul>
<li>The client app - it will handle subscribing to notifications and associating FCM token with the user</li>
<li>The service worker (part of the client app) - will handle incoming messages and display the notifications</li>
<li>The webtask - will send messages</li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a><img src="/images/2017/05/Architecture.png" alt=""></h3><h3 id="Service-worker"><a href="#Service-worker" class="headerlink" title="Service worker"></a>Service worker</h3><p>Notifications only make sense if you are able to receive them even if the application is not in the foreground. This is possible to achieve in modern web applications thanks to service workers. Service worker is a piece of JavaScript code which can run in the background, independently of the website which loaded it. Currently, service workers are used mostly for two things:</p>
<ul>
<li>providing caching and offline access</li>
<li>push notifications</li>
</ul>
<p>If you are using Ionic, it has already generated the service worker for you. You will find that it’s not empty. Ionic sets up offline caching of all static resources for you. Let’s setup handling messages from GCM in our service worker:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">importScripts(<span class="string">'https://www.gstatic.com/firebasejs/3.5.2/firebase-app.js'</span>);</span><br><span class="line">importScripts(<span class="string">'https://www.gstatic.com/firebasejs/3.5.2/firebase-messaging.js'</span>);</span><br><span class="line"></span><br><span class="line">firebase.initializeApp(&#123;</span><br><span class="line">  <span class="comment">// get this from Firebase console, Cloud messaging section</span></span><br><span class="line">  <span class="string">'messagingSenderId'</span>: <span class="string">'***'</span> </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> messaging = firebase.messaging();</span><br><span class="line"></span><br><span class="line">messaging.setBackgroundMessageHandler(<span class="function"><span class="keyword">function</span>(<span class="params">payload</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Received background message '</span>, payload);</span><br><span class="line">  <span class="comment">// here you can override some options describing what's in the message; </span></span><br><span class="line">  <span class="comment">// however, the actual content will come from the Webtask</span></span><br><span class="line">  <span class="keyword">const</span> notificationOptions = &#123;</span><br><span class="line">    icon: <span class="string">'/assets/images/logo-128.png'</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> self.registration.showNotification(notificationTitle, notificationOptions);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Subscribing-to-notifications"><a href="#Subscribing-to-notifications" class="headerlink" title="Subscribing to notifications"></a>Subscribing to notifications</h3><p>Next, we need to extend the user interface of our app to allow users to register their intent to receive push notifications. I’ve created the below service.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"><span class="comment">// based on https://github.com/firebase/quickstart-js/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MessagingService &#123;</span><br><span class="line">  <span class="keyword">private</span> messaging: firebase.messaging.Messaging;</span><br><span class="line">  <span class="keyword">private</span> unsubscribeOnTokenRefresh = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span></span><br><span class="line">    @Inject(FirebaseRef) fb: any,</span><br><span class="line">    <span class="keyword">private</span> userService: UserService</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">this</span>.messaging = fb.messaging();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> enableNotifications(): firebase.Thenable&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Requesting permission...'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.messaging.requestPermission().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Permission granted'</span>);</span><br><span class="line">        <span class="comment">// token might change - we need to listen for changes to it and update it</span></span><br><span class="line">        <span class="keyword">this</span>.setupOnTokenRefresh();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.updateToken();</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> disableNotifications(): firebase.Thenable&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">this</span>.unsubscribeOnTokenRefresh();</span><br><span class="line">    <span class="keyword">this</span>.unsubscribeOnTokenRefresh = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.userService.removeFcmToken().then();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> updateToken(): firebase.Thenable&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.messaging.getToken().then(<span class="function">(<span class="params">currentToken</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (currentToken) &#123;</span><br><span class="line">        <span class="comment">// we've got the token from Firebase, now let's store it in the database</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.userService.setFcmKey(currentToken);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'No Instance ID token available. Request permission to generate one.'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> setupOnTokenRefresh(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.unsubscribeOnTokenRefresh = <span class="keyword">this</span>.messaging.onTokenRefresh(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Token refreshed"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userService.removeFcmToken().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">this</span>.updateToken(); &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Let me explain how it works. On the high level, our application needs to call Firebase in order to get a <strong>registration token</strong>. This token identifies the target that notifications will be pushed to. By target, I mean specific browser on a specific device. If you request permissions from Firefox and Chrome both installed on the same machine, you will get two different registration tokens. </p>
<p><img src="/images/2017/05/Messaging-workflow.png" alt="" title="Messaging workflow">   </p>
<p>When you call enableNotifications, the library checks if the browser permits showing notifications. If this is not the case, the user will be asked whether he wishes to receive notifications. The promise will succeed only if he accepts. Next, we call setupOnTokenRefresh  in order to handle the situation when the token is updated. Finally, we call userService.setFcmKey() . You should implement the UserService  yourself and this particular method should simply store the token in some user profile object (in the database). </p>
<p>Basically, we need to associate users to FCM tokens beacause when sending a message, we can’t specify the targeted user but only his FCM token. You should consider associating multiple tokens with single user. If you want to be able to push messages to all devices owned by a user, you need to associate all of them with the user’s profile. Note that we also implemented disableNotifications . This method removes the association between the current user and the FCM token. </p>
<p><strong>You should consider calling this method when the user is logging out of the application</strong> - otherwise, you may end up in a situation when some other user using the same device receives notifications targeted to the other user. Lastly, remember to pass messagingSenderId  when initializing Firebase in the app and add the following values in your manifest file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;gcm\_sender\_id&quot;: &quot;103953800507&quot;, // this value is always the same</span><br><span class="line">&quot;gcm\_user\_visible_only&quot;: true</span><br></pre></td></tr></table></figure>
<h3 id="Sending-notifications"><a href="#Sending-notifications" class="headerlink" title="Sending notifications"></a>Sending notifications</h3><p>The final missing piece is to send the notification. In Friendtainer it’s the responsibility of a Webtask which is triggered on some schedule. You can use any FaaS provider for that (using Firebase Cloud Functions might be a good choice since than you will stay within the Firebase ecosystem). The actual sending is pretty easy. Let’s see an example.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fcmOptions = &#123;</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    url: <span class="string">"https://fcm.googleapis.com/fcm/send"</span>,</span><br><span class="line">    <span class="comment">// get the key from Firebase console</span></span><br><span class="line">    headers: &#123; Authorization: \<span class="string">`key=<span class="subst">$&#123;fcmServerKey&#125;</span>\` &#125;, </span></span><br><span class="line"><span class="string">    json: &#123;</span></span><br><span class="line"><span class="string">        notification: &#123; </span></span><br><span class="line"><span class="string">            title: "Message title",</span></span><br><span class="line"><span class="string">            body: "Message body",</span></span><br><span class="line"><span class="string">            click_action: "URL to your app?"</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        // userData is where your client stored the FCM token for the given user</span></span><br><span class="line"><span class="string">        // it should be read from the database</span></span><br><span class="line"><span class="string">        to: userData.fcmRegistrationKey</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">return request(fcmOptions).catch(() =&gt; console.log(\`ERROR: Push failed for user <span class="subst">$&#123;userData.email&#125;</span>\`));</span></span><br></pre></td></tr></table></figure>
<p>We need to retrieve the association between the user and the token from the database first. In the above code, it’s stored in the userData  object. Next, we build an object describing what should go into the message and who to send it to. Finally, we make a simple web request to Firebase Cloud Messaging. It will then route our message and deliver it to the desired device.</p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>In this series I talked about building a mobile app using the latest greatest offerings of the PWA approach. We’ve covered how to make a web app look like a mobile app, make the web app <em>installable</em> on a mobile device and how to implement web push notifications which behave exactly as native notifications. I think given all these features the web platform is now ready to compete with native applications and that in the long run we will see the demise of many mobile apps.</p>


                    

                    <div class="social-sharing pv3">
                      <h5 class="mv1">Enjoyed it? Let others hear about it too! ❤️</h5>
                      <div class="flex items-center">
                        <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=How I built a PWA with Angular and Firebase Part 3: Push Notifications with Firebase Cloud Messaging by @miloszpp" data-size="large">
                          Tweet
                        </a>
                        <div class="fb-share-button mh1" data-href="246.html" data-layout="button_count" data-size="large">
                        </div>
                      </div>
                    </div>
                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/angular/">#angular</a> <a class="fw3 ph1 dib" href="/tags/firebase/">#firebase</a> <a class="fw3 ph1 dib" href="/tags/pwa/">#pwa</a>
                        </div>
                    

                    <!-- Comments -->
                    
<div id="disqus_thread" class="mt5">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>



                    

                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                <hr class="dn-l mw4 black-50 mt5">
                    
<div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="/images/speaker-avatar-2.png" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="Miłosz Piechocki">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            Hi! My name is Miłosz Piechocki. I’m a software developer living in Warsaw, Poland. I’m passionate about TypeScript, JavaScript and functional programming in modern web development.
        </div>
        <div class="mt3">
          <a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/miloszpp">
            Follow me on Twitter</a>
        </div>
    </article>
</div>

<hr class="dn-l mw4 black-50 mt5">

<div class="mt5 tc tl-l">
  <h3>Free download</h3>
  <a href="https://typescriptmasterclass.com"><img src="/images/10tips.png"></a>
</div>

<hr class="dn-l mw4 black-50 mt5">

<div class="mt5 tc tl-l">
    <h3>Know about new posts first</h3>
    <p class="tj f6 lh-copy">Subscribe to receive updates about new posts. No spam.</p>
    <!-- Begin Mailchimp Signup Form -->
    <div id="mc_embed_signup">
        <form action="https://codewithstyle.us15.list-manage.com/subscribe/post?u=9387aca2477532e2e033cee17&amp;id=7c51853ca5" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
            <div id="mc_embed_signup_scroll">

                <div class="mc-field-group">

                    <input class="pa2 input-reset ba bg-transparent w-100" type="email" value="" name="EMAIL" id="mce-EMAIL">
                </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>
                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9387aca2477532e2e033cee17_7c51853ca5" tabindex="-1" value=""></div>
                <div class="clear mt2">
                    <input class="b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"></div>
            </div>
        </form>
    </div>

    <!--End mc_embed_signup-->
</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
    <div class="mv8">
        <div class="center tc">
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="http://twitter.com/miloszpp/" target="_blank">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="http://facebook.com/codewithstyle.info/" target="_blank">
                        <i class="fab fa-facebook"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="https://github.com/miloszpp" target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="https://www.youtube.com/channel/UC_DEBDpgRyBZAT85tJ1QZBw" target="_blank">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="mailto:milosz@miloszpiechocki.com" target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="/atom.xml" target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </div>
            
        </div>
        <div class="f6 f5-ns center tc white pt5 fw3">
            @Copyright Miłosz Piechocki. All right reserved | Design & Hexo based on Anodyne by <a class="link dim white" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
        </div>
    </div>
</div>

  <!-- Load Facebook SDK for JavaScript -->
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>

<!-- After Footer -->
<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'codewithstyle';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>