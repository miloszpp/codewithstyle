<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--Description-->
  
  <meta name="description" content="Union types are fairly popular in TypeScript. You might have already used them multiple times. Intersection types are slightly less common. They seem ">
  

  <!--Author-->
  
  <meta name="author" content="Miłosz Piechocki">
  

  <!--Open Graph Title-->
  
  <meta property="og:title" content="The meaning of union and intersection types">
  

  <!--Open Graph Description-->
  

  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="codewithstyle.info">

  <!--Type page-->
  
  <meta property="og:type" content="article">
  

  <!--Page Cover-->
  
  <meta property="og:image" content="https://codewithstyle.info/images/posts/intersection.jpg">
  <meta property="twitter:image" content="https://codewithstyle.info/images/posts/intersection.jpg">
  <meta name="twitter:card" content="summary_large_image">
   

  <!-- Title -->
  
  <title>The meaning of union and intersection types - codewithstyle.info</title>

  <!-- Tachyons Core CSS -->
  <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  
  <link rel="amphtml" href="https://codewithstyle.info/The-meaning-of-union-and-intersection-types//amp/index.html">
  

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/style.css">

  <!-- Google Analytics -->
  
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-89535231-1', 'auto');
        ga('send', 'pageview');

    </script>



  <!-- Twitter -->
  <script>
    window.twttr = (function (d, s, id) {
      var js,
        fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
      if (d.getElementById(id)) return t;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);

      t._e = [];
      t.ready = function (f) {
        t._e.push(f);
      };

      return t;
    })(document, "script", "twitter-wjs");
  </script>

  <!-- MailerLite Universal -->
  <script>
    (function (m, a, i, l, e, r) {
      m["MailerLiteObject"] = e;
      function f() {
        var c = { a: arguments, q: [] };
        var r = this.push(c);
        return "number" != typeof r ? r : f.bind(c.q);
      }
      f.q = f.q || [];
      m[e] = m[e] || f.bind(f.q);
      m[e].q = m[e].q || f.q;
      r = a.createElement(i);
      var _ = a.getElementsByTagName(i)[0];
      r.async = 1;
      r.src = l + "?v" + ~~(new Date().getTime() / 1000000);
      _.parentNode.insertBefore(r, _);
    })(
      window,
      document,
      "script",
      "https://static.mailerlite.com/js/universal.js",
      "ml"
    );

    var ml_account = ml("accounts", "1785990", "w8k8t0a5z1", "load");
  </script>
  <!-- End MailerLite Universal -->
</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 text-light">
  <div class="w-100">
    <nav class="db flex-l pv3 mw8 center items-center-l">
      <a class="db v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="codewithstyle.info">
        <img src="/images/2017/07/CODE-WITHSTYLE-1.png" class="dib h3" alt="codewithstyle.info">
      </a>
      <div class="db v-mid w-100 w-75-l tc tr-l">
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/toc" title="Table of Contents">
          Table of Contents
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags/typescript" title="TypeScript">
          TypeScript
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/functional-programming" title="Functional Programming">
          Functional Programming
        </a>
        
        <a class="link dim f6 f5-l dib mr3 mr4-l white" href="http://miloszpiechocki.com/" title="Author">
          Author
        </a>
        
      </div>
    </nav>
  </div>

  <!-- Title -->
  <div class="w-100 vh-40 dt" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
    url('/images/posts/intersection.jpg'); background-size: cover; background-position: center">
    <div class="v-mid white center mw8">
      <h1 class="f1-l f2-m tc tc-m tl-ns">The meaning of union and intersection types</h1>
      <p class="f4 fw3 pab-100px tc tc-m tl-ns">2019-06-27</p>
    </div>
  </div>

  <div class="w-100 bt">
    <section class="pa2 mw8 center white">
      <a class="link white dim" href="https://typescriptmasterclass.com">
        ⭐️ Check out my <strong>Advanced TypeScript</strong> book ⭐️
      </a>
    </section>
  </div>
</div>


<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/typescript/">#typescript</a> <a class="fw3 ph1 dib" href="/tags/basics/">#basics</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <p>Union types are fairly popular in TypeScript. You might have already used them multiple times. Intersection types are slightly less common. They seem to cause a little bit more confusion.</p>
<p>Did you ever wonder where do those names come from? While you might have some intuition about what a union of two types is, the intersection is usually not understood well.</p>
<p>After reading this article, you will have a better understanding of those types which will make you more confident when using them in your codebases.</p>
<h2 id="Simple-union-types"><a href="#Simple-union-types" class="headerlink" title="Simple union types"></a>Simple union types</h2><p>Union type is very often used with either <code>null</code> or <code>undefined</code>.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sayHello = <span class="function">(<span class="params">name: <span class="built_in">string</span> | <span class="literal">undefined</span></span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>For example, the type of <code>name</code> here is <code>string | undefined</code> which means that either a <code>string</code> OR an <code>undefined</code> value can be passed to <code>sayHello</code>.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sayHello(<span class="string">"milosz"</span>);</span><br><span class="line">sayHello(<span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>
<p>Looking at the example, you can intuit that a union of types <code>A</code> and <code>B</code> is a type that accepts both <code>A</code> and <code>B</code> values.</p>
<h2 id="Union-and-intersection-of-object-types"><a href="#Union-and-intersection-of-object-types" class="headerlink" title="Union and intersection of object types"></a>Union and intersection of object types</h2><p>This intuition also works for complex types.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Foo &#123;</span><br><span class="line">    foo: <span class="built_in">string</span>;</span><br><span class="line">    xyz: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Bar &#123;</span><br><span class="line">    bar: <span class="built_in">string</span>;</span><br><span class="line">    xyz: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sayHello = <span class="function">(<span class="params">obj: Foo | Bar</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"></span><br><span class="line">sayHello(&#123; foo: <span class="string">"foo"</span>, xyz: <span class="string">"xyz"</span> &#125;);</span><br><span class="line">sayHello(&#123; bar: <span class="string">"bar"</span>, xyz: <span class="string">"xyz"</span> &#125;);</span><br></pre></td></tr></table></figure>
<p><code>Foo | Bar</code> is a type that has either all required properties of <code>Foo</code> OR all required properties of <code>Bar</code>. Inside <code>sayHello</code> it’s only possible to access <code>obj.xyz</code> because it’s the only property that is included in both types.</p>
<p>What about the intersection of <code>Foo</code> and <code>Bar</code>, though?</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sayHello = <span class="function">(<span class="params">obj: Foo &amp; Bar</span>) =&gt;</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"></span><br><span class="line">sayHello(&#123; foo: <span class="string">"foo"</span>, bar: <span class="string">"bar"</span>, xyz: <span class="string">"xyz"</span> &#125;);</span><br></pre></td></tr></table></figure>
<p>Now <code>sayHello</code> requires the argument to have both <code>foo</code> AND <code>bar</code> properties. Inside <code>sayHello</code> it’s possible to access both <code>obj.foo</code>, <code>obj.bar</code> and <code>obj.xyz</code>.</p>
<p>Hmm, but what does it have to <em>intersection</em>? One could argue that since <code>obj</code> has properties of both <code>Foo</code> and <code>Bar</code>, it sounds more like a union of properties, not intersection. Similarly, a union of two object types gives you a type that only has the intersection of properties of constituent types.</p>
<p>It sounds confusing. I even stumbled upon a <a href="https://github.com/Microsoft/TypeScript/issues/18383" target="_blank" rel="noopener">GitHub issue</a> in TypeScript repository ranting about naming of these types. To understand the naming better we need to look at types from a different perspective.</p>
<h2 id="Set-theory"><a href="#Set-theory" class="headerlink" title="Set theory"></a>Set theory</h2><p>Do you remember a concept called <em>sets</em> from math classes? In mathematics, a set is a collection of objects (for example numbers). For example, <code>{1, 2, 7}</code> is a set. All positive numbers can also form a set (an infinite one).</p>
<p>Sets can be added together (a <strong>union</strong>). A union of <code>{1, 2}</code> and <code>{4, 5}</code> is <code>{1, 2, 4, 5}</code>.</p>
<p>Sets can also be intersected. <strong>Intersection</strong> of two sets is a set that only contains those numbers that are present in both sets. So, an intersection of <code>{1, 2, 3}</code> and <code>{3, 4, 5}</code> is <code>{3}</code>.</p>
<p>Let’s imagine two sets: <code>Squares</code> and <code>RedThings</code>.</p>
<p>The union of <code>Squares</code> and <code>RedThings</code> is a set that contains both squares and red things.</p>
<p>However, the intersection of <code>Squares</code> and <code>RedThings</code> is a set that only contains <strong>red squares</strong>.</p>
<p><img src="/images/posts/intersection-shapes.png" alt="Intersection of sets"></p>
<h2 id="Relationship-between-types-and-sets"><a href="#Relationship-between-types-and-sets" class="headerlink" title="Relationship between types and sets"></a>Relationship between types and sets</h2><p>Computer science and mathematics overlap in many places. One of such places is type systems.</p>
<p>A type, when looked at from a mathematical perspective, is a <strong>set of all possible values of that type</strong>. For example the <code>string</code> type is a set of all possible strings: <code>{&#39;a&#39;, &#39;b&#39;, &#39;ab&#39;, ...}</code>. Of course, it’s an infinite set.</p>
<p>Similarly, <code>number</code> type is a set of all possible numbers: <code>{1, 2, 3, 4, ...}</code>.</p>
<p>Type <code>undefined</code> is a set that only contains a single value: <code>{ undefined }</code>.</p>
<p>What about object types (such as interfaces)? Type <code>Foo</code> is a <strong>set of all object that contain <code>foo</code> and <code>xyz</code> properties</strong>.</p>
<h2 id="Understanding-union-and-intersection-types"><a href="#Understanding-union-and-intersection-types" class="headerlink" title="Understanding union and intersection types"></a>Understanding union and intersection types</h2><p>Armed with this knowledge, you’re now ready to understand the meaning of union and intersection types.</p>
<p>Union type <code>A | B</code> represents a set that is a union of the set of values associated with type <code>A</code> and the set of values associated with type <code>B</code>.</p>
<p>Intersection type <code>A &amp; B</code> represents a set that is an intersection of the set of values associated with type <code>A</code> and the set of values associated with type <code>B</code>.</p>
<p>Therefore, <code>Foo | Bar</code> represents <strong>a union</strong> of the set of objects having <code>foo</code> and <code>xyz</code> properties and the set of objects having <code>bar</code> and <code>xyz</code>. Objects belonging to such set all have <code>xyz</code> property. Some of them have <code>foo</code> property and the others have <code>bar</code> property.</p>
<p><code>Foo &amp; Bar</code> represents <strong>an intersection</strong> of the set of objects having <code>foo</code> and <code>xyz</code> properties and the set of objects having <code>bar</code> and <code>xyz</code>. In other words, the set contains objects that belong to sets represented by both <code>Foo</code> and <code>Bar</code>. Only objects that have all three properties (<code>foo</code>, <code>bar</code> and <code>xyz</code>) belong to the intersection.</p>
<h2 id="Real-world-example-of-intersection-type"><a href="#Real-world-example-of-intersection-type" class="headerlink" title="Real-world example of intersection type"></a>Real-world example of intersection type</h2><p>Union types are quite widespread so let’s focus on an example of an intersection type.</p>
<p>In React, when you declare a class component, you can parameterise it with thy type of its properties:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Counter <span class="keyword">extends</span> Component&lt;CounterProps&gt; &#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Inside the class, you can access the properies via <code>this.props</code>. However, the type of <code>this.props</code> is not simply <code>CounterProps</code>, but: </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Readonly&lt;CounterProps&gt; &amp; Readonly&lt;&#123; children?: ReactNode; &#125;&gt;</span><br></pre></td></tr></table></figure>
<p>The reason for this is that React components can accept children elements:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Counter&gt;&lt;span&gt;Hello&lt;<span class="regexp">/span&gt;&lt;/</span>Counter&gt;</span><br></pre></td></tr></table></figure>
<p>The children element tree is accessible to the component via <code>children</code> prop. The type of <code>this.props</code> reflects that. It’s an intersection of (readonly) <code>CounterProps</code> and a (readonly) object type with an optional <code>children</code> property. </p>
<p>In terms of sets, it’s an intersecion of the set of objects that have properties as defined in <code>CounterProps</code> and the set of objects that have optional <code>children</code> property. The result is a set of objects that have both all properties of <code>CounterProps</code> and the optional <code>children</code> property.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>That’s it! I hope this article helps you wrap your head around union and intersection types. As it’s often the case in computer science, understanding the fundamentals makes you better at grasping programming concepts.</p>


                    
<hr>
<p class="f5 bg-dark-gray br3 pa3 white">
  Did you like this TypeScript article? I bet you'll also like my book!<br>
  <a href="https://typescriptmasterclass.com">
    ⭐️ Advanced TypeScript E-book ⭐️
  </a>
</p>



                    <div class="social-sharing pv3">
                      <h5 class="mv1">Enjoyed it? Let others hear about it too! ❤️</h5>
                      <div class="flex items-center">
                        <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=The meaning of union and intersection types by @miloszpp" data-size="large">
                          Tweet
                        </a>
                        <div class="fb-share-button mh1" data-href="" data-layout="button_count" data-size="large">
                        </div>
                      </div>
                    </div>
                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/typescript/">#typescript</a> <a class="fw3 ph1 dib" href="/tags/basics/">#basics</a>
                        </div>
                    

                    <!-- Comments -->
                    
<div id="disqus_thread" class="mt5">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>



                    

                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                <hr class="dn-l mw4 black-50 mt5">

<div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="/images/speaker-avatar-2.png" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="Miłosz Piechocki">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            Hi! My name is Miłosz Piechocki. I’m a Frontend Engineering Manager living in Warsaw, Poland. I’m passionate about TypeScript, JavaScript and functional programming in modern web development.
        </div>
        <div class="mt3">
          <a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/miloszpp">
            Follow me on Twitter</a>
        </div>
    </article>
</div>

<hr class="dn-l mw4 black-50 mt5">

<div class="mt5 tc tl-l">
  <h3>Download free e-book</h3>
  <a href="http://typescriptmasterclass.com/10tips" target="_blank"><img src="/images/10tips.png"></a>
</div>

<div class="mt5 tc tl-l">
  <h3>Buy my book</h3>
  <a href="http://typescriptmasterclass.com" target="_blank"><img src="/images/AdvancedTypeScript.jpg"></a>
</div>

<hr class="dn-l mw4 black-50 mt5">

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
    <div class="mv8">
        <div class="center tc">
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="http://twitter.com/miloszpp/" target="_blank">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="http://facebook.com/codewithstyle.info/" target="_blank">
                        <i class="fab fa-facebook"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="https://github.com/miloszpp" target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="https://www.youtube.com/channel/UC_DEBDpgRyBZAT85tJ1QZBw" target="_blank">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="mailto:milosz@miloszpiechocki.com" target="_blank">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            
                <div class="dib mh3">
                    <a class="f3 f2-ns white dim" href="/atom.xml" target="_blank">
                        <i class="fas fa-rss"></i>
                    </a>
                </div>
            
        </div>
        <div class="f6 f5-ns center tc white pt5 fw3">
            @Copyright Miłosz Piechocki. All right reserved | Design & Hexo based on Anodyne by <a class="link dim white" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
        </div>
    </div>
</div>

  <!-- Load Facebook SDK for JavaScript -->
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>

<!-- After Footer -->
<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'codewithstyle';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>